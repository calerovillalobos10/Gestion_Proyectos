<h1 class="crud_title">Avances</h1>
<div class="mb-5"></div>

<div class="row table_tools">
  <div></div>
  <span (click)='addAdvance()' class="add_crud"><i class="fas fa-plus " ></i> Insertar</span>
</div>

<div class="filter_range">

  <div class="input_date_group">
    <label>Desde</label>
    <i class="fas fa-eraser" title="Remover filtro" (click)='removeMinDate()'></i>
    <br>
    <input type="date" min={{minDateAllowed}} max={{maxDateFiltered1}} (change)="changeMinDate($event)" [formControl]="formControlMin"/>
  </div>
  <div class="input_date_group">
    <label>Hasta</label>
    <i class="fas fa-eraser" title="Remover filtro" (click)='removeMaxDate()'></i>
    <br>
    <input type="date" min={{minDateFiltered2}} max={{maxDateAllowed}} (change)="changeMaxDate($event)" [formControl]="formControlMax"/>
    
  </div>
</div>

<table
  id="data"
  class="display responsive nowrap"
  style="width: 100%"
  datatable
  [dtOptions]="dtOptions"
  [dtTrigger]="dtTrigger"
>
  <thead>
    <tr>
      <th>Id</th>
      <th>Trimestre</th>
      <th>Aplicante</th>
      <th>Solicitud #</th>
      <th>Fecha</th>
      
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let avance of filteredRows">

      <td>{{ avance.idAvance }}</td>
      <td>{{ avance.descripcion}}</td>
      <td>{{ avance.funcionario_aplicativo }}</td>
      <td>{{ avance.idSolicitud }}</td>
      <td>{{ avance.fechaAvance| date: 'dd/MM/yyyy' }}</td>
      <td>
        <div class="row action_wrap" id={{avance.idAvance}}>

          <div class="action_btn det detalle"  title="Documento">
            <i class="far fa-file"></i>
          </div>

          <div class="action_btn edi editar" title="Modificar avance">
            <i class="fas fa-edit"></i>
          </div>
          <div class="action_btn del eliminar"   title="Eliminar avance">
            <i class="fas fa-trash-alt"></i>
          </div>
          
        </div>
      </td>

    </tr>
  </tbody>
</table>
<app-det-modal></app-det-modal>
<app-add-modal></app-add-modal>