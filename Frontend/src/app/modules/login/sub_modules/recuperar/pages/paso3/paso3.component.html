<div class="primary_box">
  <div class="primary_box_container" [ngClass]="{'desaparecer': desaparecer}">
    <h1 class="title">C칩digo valido</h1>
    <form [formGroup]="form" (submit)="prepararCambio()">
      <div class="input_group">
        <p class="final_text">
          Digite acontinuacion las nuevas credenciales.
        </p>
      </div>

      <div class="input_group">
        <input class="input" type="text" placeholder=" " formControlName="correo"/>
        <label class="label"> Correo</label>
        <ng-container *ngTemplateOutlet="correo_error; context: {error: form.get('correo')?.errors}"></ng-container>
      </div>

      <div class="input_group">
        <input class="input" type="password" placeholder=" " id="pass" name="password" formControlName="password" />
        <label class="label" for="pass"> Contrase침a</label>
        <ng-container *ngTemplateOutlet="pass_error; context: {error: form.get('password')?.errors}"></ng-container>
      </div>

      <div class="input_group">
        <input class="input" type="password" placeholder=" " id="repass" name="rePassword" formControlName="rePassword" />
        <label class="label" for="repass"> Repetir contrase침a</label>
        <ng-container *ngTemplateOutlet="repass_error; context: {error: form.get('rePassword')?.errors}"></ng-container>
      </div>

      <button class="btn">
        Confirmar
      </button>

      <br/>
      <a class="link register" (click)="aLogin()">Volver.</a>
    </form>
  </div>
</div>

<ng-template #correo_error let-error="error">
  <p class="error-input" *ngIf="form.get('correo')?.dirty || form.get('correo')?.touched">
    <span class="login_error" *ngIf="error?.required">El campo es requerido </span>
    <span class="login_error" *ngIf="error?.pattern">No es un email </span>
    <span class="login_error" *ngIf="error?.maxlength && !error?.pattern">Maximo {{error.maxlength.requiredLength}}, actual {{error.maxlength.actualLength}}  </span>
</p>
</ng-template>

<ng-template #pass_error let-error="error">
  <p class="error-input" *ngIf="form.get('password')?.dirty || form.get('password')?.touched">
    <span class="login_error" *ngIf="error?.required">El campo es requerido </span>
    <span class="login_error" *ngIf="error?.pattern">No es un email </span>
    <span class="login_error" *ngIf="error?.maxlength && !error?.pattern">Maximo {{error.maxlength.requiredLength}}, actual {{error.maxlength.actualLength}}  </span>
</p>
</ng-template>

<ng-template #repass_error let-error="error">
  <p class="error-input" *ngIf="form.get('rePassword')?.dirty || form.get('rePassword')?.touched">
    <span class="login_error" *ngIf="error?.required">El campo es requerido </span>
    <span class="login_error" *ngIf="!error?.required && form.value.rePassword !== form.value.password">Las contrase침as no coinciden </span>
</p>
</ng-template>